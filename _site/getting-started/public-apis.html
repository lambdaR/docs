<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Public APIs - M3O Dev</title> <link rel="shortcut icon" href="http://0.0.0.0:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://0.0.0.0:4000/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-70478210-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-70478210-5'); </script> <script type="text/javascript" src="http://0.0.0.0:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://0.0.0.0:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Public APIs | M3O Dev</title> <meta name="generator" content="Jekyll v4.0.1" /> <meta property="og:title" content="Public APIs" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="M3O dev site - getting started, docs, tutorials and more." /> <meta property="og:description" content="M3O dev site - getting started, docs, tutorials and more." /> <link rel="canonical" href="http://0.0.0.0:4000/getting-started/public-apis" /> <meta property="og:url" content="http://0.0.0.0:4000/getting-started/public-apis" /> <meta property="og:site_name" content="M3O Dev" /> <script type="application/ld+json"> {"url":"http://0.0.0.0:4000/getting-started/public-apis","description":"M3O dev site - getting started, docs, tutorials and more.","@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/assets/images/logo.png"}},"headline":"Public APIs","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://0.0.0.0:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://0.0.0.0:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/getting-started" class="nav-list-link">Get Started</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/create-services" class="nav-list-link">Create Services</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/invite-users" class="nav-list-link">Invite Users</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/private-repos" class="nav-list-link">Private Repos</a></li><li class="nav-list-item active"><a href="http://0.0.0.0:4000/getting-started/public-apis" class="nav-list-link active">Public APIs</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/using-micro" class="nav-list-link">Using Micro</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/concepts" class="nav-list-link">Concepts</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/concepts/framework" class="nav-list-link">Framework</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/concepts/platform" class="nav-list-link">Platform</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/tutorials" class="nav-list-link">Tutorials</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/tutorials/helloworld" class="nav-list-link">Helloworld</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/tutorials/authentication" class="nav-list-link">Authentication</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/tutorials/building-a-blog" class="nav-list-link">Building A Blog</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://0.0.0.0:4000/tutorials/building-a-blog/the-post-service" class="nav-list-link">The Post Service</a> </li></ul></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/tutorials/config" class="nav-list-link">Dynamic Config</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/resources" class="nav-list-link">Resources</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/resources/community" class="nav-list-link">Community</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/resources/development" class="nav-list-link">Development</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/resources/support" class="nav-list-link">Support</a></li></ul></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/faq" class="nav-list-link">FAQ</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search M3O Dev" aria-label="Search M3O Dev" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://0.0.0.0:4000/getting-started">Get Started</a></li> <li class="breadcrumb-nav-list-item"><span>Public APIs</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="publics-apis"> <a href="#publics-apis" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Publics APIs </h1> <p>M3O makes your services available via a public http/json API.</p> <p>Query and access your services in the following ways.</p> <h2 id="url"> <a href="#url" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> URL </h2> <p>The public APIs for M3O</p> <h4 id="dev-environment"> <a href="#dev-environment" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dev environment </h4> <p>api.m3o.dev</p> <h4 id="platform-environment"> <a href="#platform-environment" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Platform environment </h4> <p>api.m3o.com</p> <h4 id="your-services-on-dev"> <a href="#your-services-on-dev" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Your services on Dev </h4> <p>$namespace.m3o.dev</p> <h4 id="your-services-on-platform"> <a href="#your-services-on-platform" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Your services on Platform </h4> <p>$namespace.m3o.app</p> <h2 id="namespace"> <a href="#namespace" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Namespace </h2> <p>Namespace is a unique namespace provided only to you and your collaborators.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># get user namespace
micro user namespace
</code></pre></div></div> <h2 id="authentication"> <a href="#authentication" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Authentication </h2> <p>Most of our core services are locked down so you’ll need to use an API token to access them.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># get your user token`
MICRO_API_TOKEN=`micro user token`

# curl the api
curl -H "Authorization: Bearer $MICRO_API_TOKEN" https://api.m3o.dev/
</code></pre></div></div> <p>You should see below or thereabouts</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{"version": "v3.0.0-beta"}
</code></pre></div></div> <h2 id="generating-api-tokens"> <a href="#generating-api-tokens" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Generating API Tokens </h2> <p>This section is coming soon but you can otherwise use your own user token for now.</p> <h2 id="request-mapping"> <a href="#request-mapping" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Request Mapping </h2> <p>Because all services are RPC based, HTTP requests have to be dynamically mapped to services and their endpoints. We do this very simply in the manner shown below.</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Call helloworld service with Helloworld.Call endpoint
https://api.m3o.dev/helloworld/call

# Call hellworld service with Greeting.Message endpoint
https://api.m3o.dev/helloworld/greeting/message
</code></pre></div></div> <p>As you can see if an endpoint matches the service name we can collapse the path so there’s no redundancy. We additionally map the Call endpoint much like index.html for the web so that you can simply do</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://api.m3o.dev/helloworld
</code></pre></div></div> <p>A convenient hack just like the web.</p> <h2 id="setting-namespace"> <a href="#setting-namespace" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Setting Namespace </h2> <p>Because your services are in a specific namespace you’ll have to set the <code class="highlighter-rouge">Micro-Namespace</code> header to access them via our public api <code class="highlighter-rouge">api.m3o.com</code>. You otherwise also get a custom url per namespace which you can read about below.</p> <p>To get your namespace</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NAMESPACE=`micro user namespace`
</code></pre></div></div> <p>Then simply set as the header in your call</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl -H "Micro-Namespace: $NAMESPACE" https://api.m3o.dev/helloworld
</code></pre></div></div> <p>This will route to your helloworld service as opposed to someone else’s!</p> <h2 id="custom-urls"> <a href="#custom-urls" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom URLs </h2> <p>Each user gets a custom URL based on their namespace which is <code class="highlighter-rouge">https://[namespace].m3o.dev</code></p> <p>Each of your services is then path based e.g <code class="highlighter-rouge">https://[namespace].m3o.dev/[service]</code>.</p> <p>For example to route to the helloworld service in the foobar namespace you would do</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl https://foobar.m3o.dev/helloworld
</code></pre></div></div> <p>In the <code class="highlighter-rouge">platform</code> environment customer URLs are served on the domain <code class="highlighter-rouge">*m3o.app</code>.</p> <h2 id="authorization"> <a href="#authorization" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Authorization </h2> <p>Your namespace is managed by your own set of rules which you can read about in the Authorization guide soon or just head to the <a href="/tutorials/authentication">Authentication</a> tutorial.</p> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 Micro Services, Inc.</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
