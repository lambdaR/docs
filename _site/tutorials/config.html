<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Dynamic Config - M3O Dev</title> <link rel="shortcut icon" href="http://0.0.0.0:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://0.0.0.0:4000/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-70478210-5"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-70478210-5'); </script> <script type="text/javascript" src="http://0.0.0.0:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://0.0.0.0:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.6.1 --> <title>Dynamic Config | M3O Dev</title> <meta name="generator" content="Jekyll v4.0.1" /> <meta property="og:title" content="Dynamic Config" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="M3O dev site - getting started, docs, tutorials and more." /> <meta property="og:description" content="M3O dev site - getting started, docs, tutorials and more." /> <link rel="canonical" href="http://0.0.0.0:4000/tutorials/config" /> <meta property="og:url" content="http://0.0.0.0:4000/tutorials/config" /> <meta property="og:site_name" content="M3O Dev" /> <script type="application/ld+json"> {"url":"http://0.0.0.0:4000/tutorials/config","description":"M3O dev site - getting started, docs, tutorials and more.","@type":"WebPage","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/assets/images/logo.png"}},"headline":"Dynamic Config","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://0.0.0.0:4000/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://0.0.0.0:4000/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/getting-started" class="nav-list-link">Get Started</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/create-services" class="nav-list-link">Create Services</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/invite-users" class="nav-list-link">Invite Users</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/private-repos" class="nav-list-link">Private Repos</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/public-apis" class="nav-list-link">Public APIs</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/getting-started/using-micro" class="nav-list-link">Using Micro</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/concepts" class="nav-list-link">Concepts</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/concepts/framework" class="nav-list-link">Framework</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/concepts/platform" class="nav-list-link">Platform</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/tutorials" class="nav-list-link">Tutorials</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/tutorials/helloworld" class="nav-list-link">Helloworld</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/tutorials/authentication" class="nav-list-link">Authentication</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/tutorials/building-a-blog" class="nav-list-link">Building A Blog</a><ul class="nav-list"><li class="nav-list-item "> <a href="http://0.0.0.0:4000/tutorials/building-a-blog/the-post-service" class="nav-list-link">The Post Service</a> </li></ul></li><li class="nav-list-item active"><a href="http://0.0.0.0:4000/tutorials/config" class="nav-list-link active">Dynamic Config</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://0.0.0.0:4000/resources" class="nav-list-link">Resources</a><ul class="nav-list "><li class="nav-list-item "><a href="http://0.0.0.0:4000/resources/community" class="nav-list-link">Community</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/resources/development" class="nav-list-link">Development</a></li><li class="nav-list-item "><a href="http://0.0.0.0:4000/resources/support" class="nav-list-link">Support</a></li></ul></li><li class="nav-list-item"><a href="http://0.0.0.0:4000/faq" class="nav-list-link">FAQ</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search M3O Dev" aria-label="Search M3O Dev" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://0.0.0.0:4000/tutorials">Tutorials</a></li> <li class="breadcrumb-nav-list-item"><span>Dynamic Config</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="config"> <a href="#config" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Config </h1> <h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents </h2> <ol id="markdown-toc"> <li><a href="#cli-usage" id="markdown-toc-cli-usage">CLI usage</a> <ol> <li><a href="#secrets" id="markdown-toc-secrets">Secrets</a></li> </ol> </li> <li><a href="#from-services" id="markdown-toc-from-services">From Services</a></li> <li><a href="#advanced-concepts" id="markdown-toc-advanced-concepts">Advanced Concepts</a> <ol> <li><a href="#merging-config-values" id="markdown-toc-merging-config-values">Merging Config Values</a></li> </ol> </li> </ol> <hr /> <p>Config is a way to store configuration data for services. Config is both accessible from the Micro CLI and from services themselves.</p> <h2 id="cli-usage"> <a href="#cli-usage" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CLI usage </h2> <p>Let’s assume we have a service called <code class="highlighter-rouge">helloworld</code> from which we want to read configuration data. First we have to insert said data with the cli. Config data can be organized under different “paths” with the dot notation. It’s a good convention to save all config data belonging to a service under a top level path segment matching the service name:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config <span class="nb">set </span>helloworld.somekey hello
<span class="nv">$ </span>micro config get helloworld.somekey
hello
</code></pre></div></div> <p>We can save an other key too and read all values in one go with the dot notation:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config <span class="nb">set </span>helloworld.someotherkey <span class="s2">"Hi there!"</span>
<span class="nv">$ </span>micro config get helloworld
<span class="o">{</span><span class="s2">"somekey"</span>:<span class="s2">"hello"</span>,<span class="s2">"someotherkey"</span>:<span class="s2">"Hi there!"</span><span class="o">}</span>
</code></pre></div></div> <p>As it can be seen, the config (by default) stores configuration data as JSONs. We can save any type:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config <span class="nb">set </span>helloworld.someboolkey <span class="nb">true</span>
<span class="nv">$ </span>micro config get helloworld.someboolkey
<span class="nb">true</span>
<span class="nv">$ </span>micro config get helloworld
<span class="o">{</span><span class="s2">"someboolkey"</span>:true,<span class="s2">"somekey"</span>:<span class="s2">"hello"</span>,<span class="s2">"someotherkey"</span>:<span class="s2">"Hi there!"</span><span class="o">}</span>
</code></pre></div></div> <p>So far we have only saved top level keys. Let’s explore the advantages of the dot notation.</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config <span class="nb">set </span>helloworld.keywithsubs.subkey1 <span class="s2">"So easy!"</span>
<span class="o">{</span><span class="s2">"keywithsubs"</span>:<span class="o">{</span><span class="s2">"subkey1"</span>:<span class="s2">"So easy!"</span><span class="o">}</span>,<span class="s2">"someboolkey"</span>:true,<span class="s2">"somekey"</span>:<span class="s2">"hello"</span>,<span class="s2">"someotherkey"</span>:<span class="s2">"Hi there!"</span><span class="o">}</span>
</code></pre></div></div> <p>Some of the example keys are getting in our way, let’s learn how to delete:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config del helloworld.someotherkey
<span class="nv">$ </span>micro config get helloworld
<span class="o">{</span><span class="s2">"keywithsubs"</span>:<span class="o">{</span><span class="s2">"subkey1"</span>:<span class="s2">"So easy!"</span><span class="o">}</span>,<span class="s2">"someboolkey"</span>:true,<span class="s2">"somekey"</span>:<span class="s2">"hello"</span><span class="o">}</span>
</code></pre></div></div> <p>We can of course delete not just <code class="highlighter-rouge">leaf</code> level keys, but top level ones too:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config del helloworld.keywithsubs
<span class="nv">$ </span>micro config get helloworld
<span class="o">{</span><span class="s2">"someboolkey"</span>:true,<span class="s2">"somekey"</span>:<span class="s2">"hello"</span><span class="o">}</span>
</code></pre></div></div> <h3 id="secrets"> <a href="#secrets" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Secrets </h3> <p>The config also supports secrets - values encrypted at rest. This helps in case of leaks, be it a security one or an accidental copypaste. They are fairly easy to save:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config <span class="nb">set</span> <span class="nt">--secret</span> helloworld.hushkey <span class="s2">"Very secret stuff"</span> 
<span class="nv">$ </span>micro config get helloworld.hushkey
<span class="o">[</span>secret]

<span class="nv">$ </span>micro config get <span class="nt">--secret</span> helloworld.hushkey
Very secret stuff

<span class="nv">$ </span>micro config get helloworld
<span class="o">{</span><span class="s2">"hushkey"</span>:<span class="s2">"[secret]"</span>,<span class="s2">"someboolkey"</span>:true,<span class="s2">"somekey"</span>:<span class="s2">"hello"</span><span class="o">}</span>

<span class="nv">$ </span>micro config get <span class="nt">--secret</span> helloworld
<span class="o">{</span><span class="s2">"hushkey"</span>:<span class="s2">"Very secret stuff"</span>,<span class="s2">"someboolkey"</span>:true,<span class="s2">"somekey"</span>:<span class="s2">"hello"</span><span class="o">}</span>
</code></pre></div></div> <p>Even bool or number values can be saved as secrets, and they will appear as the string constant <code class="highlighter-rouge">[secret]</code> unless decrypted:</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config <span class="nb">set</span> <span class="nt">--secret</span> helloworld.hush_number_key 42
<span class="nv">$ </span>micro config get helloworld
<span class="o">{</span><span class="s2">"hush_number_key"</span>:<span class="s2">"[secret]"</span>,<span class="s2">"hushkey"</span>:<span class="s2">"[secret]"</span>,<span class="s2">"someboolkey"</span>:true,<span class="s2">"somekey"</span>:<span class="s2">"hello"</span><span class="o">}</span>

<span class="c"># micro config get --secret helloworld</span>
<span class="o">{</span><span class="s2">"hush_number_key"</span>:42,<span class="s2">"hushkey"</span>:<span class="s2">"Very secret stuff"</span>,<span class="s2">"someboolkey"</span>:true,<span class="s2">"somekey"</span>:<span class="s2">"hello"</span><span class="o">}</span>
</code></pre></div></div> <h2 id="from-services"> <a href="#from-services" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> From Services </h2> <p>It is simiarly easy to access and set config values from a service. A good example of reading values is <a href="https://github.com/micro/micro/tree/master/test/service/config-example">the config example test service</a>:</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">main</span>

<span class="k">import</span> <span class="p">(</span>
	<span class="s">"fmt"</span>
	<span class="s">"time"</span>

	<span class="s">"github.com/micro/micro/v3/service"</span>
	<span class="s">"github.com/micro/micro/v3/service/config"</span>
<span class="p">)</span>

<span class="k">type</span> <span class="n">keyConfig</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">Subkey</span>  <span class="kt">string</span> <span class="s">`json:"subkey"`</span>
	<span class="n">Subkey1</span> <span class="kt">int</span>    <span class="s">`json:"subkey1"`</span>
<span class="p">}</span>

<span class="k">type</span> <span class="n">conf</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">Key</span> <span class="n">keyConfig</span> <span class="s">`json:"key"`</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
	<span class="k">go</span> <span class="k">func</span><span class="p">()</span> <span class="p">{</span>
		<span class="k">for</span> <span class="p">{</span>
			<span class="n">time</span><span class="o">.</span><span class="n">Sleep</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">Second</span><span class="p">)</span>
			<span class="n">val</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">config</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"key.subkey"</span><span class="p">)</span>
			<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Value of key.subkey: "</span><span class="p">,</span> <span class="n">val</span><span class="o">.</span><span class="n">String</span><span class="p">(</span><span class="s">""</span><span class="p">),</span> <span class="n">err</span><span class="p">)</span>

			<span class="n">val</span><span class="p">,</span> <span class="n">err</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"key"</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">Secret</span><span class="p">(</span><span class="no">true</span><span class="p">))</span>
			<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
				<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">err</span><span class="p">)</span>
			<span class="p">}</span>
			<span class="n">c</span> <span class="o">:=</span> <span class="n">conf</span><span class="p">{}</span>
			<span class="n">err</span> <span class="o">=</span> <span class="n">val</span><span class="o">.</span><span class="n">Scan</span><span class="p">(</span><span class="o">&amp;</span><span class="n">c</span><span class="o">.</span><span class="n">Key</span><span class="p">)</span>
			<span class="n">fmt</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="s">"Value of key.subkey1: "</span><span class="p">,</span> <span class="n">c</span><span class="o">.</span><span class="n">Key</span><span class="o">.</span><span class="n">Subkey1</span><span class="p">,</span> <span class="n">err</span><span class="p">)</span>
		<span class="p">}</span>
	<span class="p">}()</span>

	<span class="c">// run the service</span>
	<span class="n">service</span><span class="o">.</span><span class="n">Run</span><span class="p">()</span>
<span class="p">}</span>
</code></pre></div></div> <p>The above service will print the value of <code class="highlighter-rouge">key.subkey</code> and <code class="highlighter-rouge">key.subkey</code> every second. By passing in the <code class="highlighter-rouge">config.Secret(true)</code> option, we tell config to decrypt secret values for us, similarly to the <code class="highlighter-rouge">--secret</code> CLI flag.</p> <p>The <a href="https://github.com/micro/go-micro/blob/master/config/config.go">config interface</a> specifies not just <code class="highlighter-rouge">Get</code> <code class="highlighter-rouge">Set</code> and <code class="highlighter-rouge">Delete</code> to access values, but a few convenience functions too in the <code class="highlighter-rouge">Value</code> interface.</p> <p>It is worth noting that <code class="highlighter-rouge">String</code> <code class="highlighter-rouge">Int</code> etc methods will do a best effort try at coercing types, ie. if the value saved is a string, <code class="highlighter-rouge">Int</code> will try to parse it. However, the same does not apply to the <code class="highlighter-rouge">Scan</code> method, which uses <code class="highlighter-rouge">json.Unmarshal</code> under the hood, which we all know fails when encountering type mismatches.</p> <p><code class="highlighter-rouge">Get</code> should, in all cases, return a non nil <code class="highlighter-rouge">Value</code>, so even if the <code class="highlighter-rouge">Get</code> errors, <code class="highlighter-rouge">Value.Int()</code> and other operations should never panic.</p> <h2 id="advanced-concepts"> <a href="#advanced-concepts" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Advanced Concepts </h2> <h3 id="merging-config-values"> <a href="#merging-config-values" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Merging Config Values </h3> <p>When saving a string with the CLI that is a valid JSON map, it gets expanded to be saved as a proper map structure, instead of a string, ie</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config <span class="nb">set </span>helloworld <span class="s1">'{"a": "val1", "b": "val2"}'</span>
<span class="nv">$ </span>micro config get helloworld.a
val1
<span class="c"># If the string would be saved as is, `helloworld.a` would be a nonexistent path</span>
</code></pre></div></div> <p>The advantages of this become particularly visible when <code class="highlighter-rouge">Set</code>ting a complex type with the library:</p> <div class="language-go highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">type</span> <span class="n">conf</span> <span class="k">struct</span> <span class="p">{</span>
	<span class="n">A</span> <span class="kt">string</span> <span class="s">`json:"a"`</span>
	<span class="n">B</span> <span class="kt">string</span> <span class="s">`json:"b"`</span>
<span class="p">}</span>

<span class="n">c1</span> <span class="o">:=</span> <span class="n">conf</span><span class="p">{</span><span class="s">"val1"</span><span class="p">,</span> <span class="s">"val2"</span><span class="p">}</span>
<span class="n">config</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"key"</span><span class="p">,</span> <span class="n">c1</span><span class="p">)</span>

<span class="n">v</span><span class="p">,</span> <span class="n">_</span> <span class="o">:=</span> <span class="n">config</span><span class="o">.</span><span class="n">Get</span><span class="p">(</span><span class="s">"key"</span><span class="p">)</span>
<span class="n">c2</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="n">conf</span><span class="p">{}</span>
<span class="n">v</span><span class="o">.</span><span class="n">Scan</span><span class="p">(</span><span class="n">c2</span><span class="p">)</span>
<span class="c">// c1 and c2 should be equal</span>
</code></pre></div></div> <p>Or with the following example</p> <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>micro config del helloworld
<span class="nv">$ </span>micro config <span class="nb">set </span>helloworld <span class="s1">'{"a":1}'</span>
<span class="nv">$ </span>micro config get helloworld
<span class="o">{</span><span class="s2">"a"</span>:1<span class="o">}</span>
<span class="nv">$ </span>micro config <span class="nb">set </span>helloworld <span class="s1">'{"b":2}'</span>
<span class="nv">$ </span>micro config get helloworld
<span class="o">{</span><span class="s2">"a"</span>:1,<span class="s2">"b"</span>:2<span class="o">}</span>
</code></pre></div></div> <hr> <footer> <p class="text-small text-grey-dk-000 mb-0">Copyright &copy; 2020 Micro Services, Inc.</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
